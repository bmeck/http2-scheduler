<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">
  <script nonce='bbc7f6750616a95b44d32736e45e9b40f7a9918ace513ed7098fece9f7a01431b7e31c777bc2ec013e61991cb80281efa77d5025b4e024e158925cc8651c1a5e' type='text/javascript'>window.NREUM||(NREUM={});NREUM.info = {"agent":"","beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"ba86f45fc4","applicationID":"9556514","applicationTime":964.570413,"transactionName":"M1BXZxFZVkQFURBdVwoafVITURdwIWZLG0gFVl5SBF0XTBRTB19ZA1BI","queueTime":0,"ttGuid":"12758acb1f532a0","agentToken":null}; window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-918.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
  <title>mississippi</title>

    <meta name="description" content="a collection of useful streams">
    <meta property="og:description" content="a collection of useful streams">
    <meta property="og:title" content="mississippi">
    <meta property="og:url" content="https://www.npmjs.com/package/mississippi">
    <meta property="og:site_name" content="npm">
    <meta name="keywords" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://www.npmjs.com/package/mississippi">
    <meta name="twitter:title" content="npm: mississippi">
    <meta name="twitter:description" content="a collection of useful streams">
  
  
  <meta http-equiv="cleartype" content="on" />
  
  <meta name="apple-mobile-web-app-capable" content="no">
  
  
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,initial-scale=1,user-scalable=yes">
  
  <meta name="x-npm:ga:id" content="UA-47041310-1">
  <meta name="x-npm:ga:dimensions" content="{&quot;aboveChrome&quot;:&quot;dimension1&quot;,&quot;belowHeader&quot;:&quot;dimension3&quot;,&quot;packagePage&quot;:&quot;dimension2&quot;}">
  
  <link rel="canonical" href="https://www.npmjs.com/package/mississippi">
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="npm">

    <link rel="stylesheet" media="all" href="/static/css/index.1eb703c1.css">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700">
  
    <script src="/static/js/index.min.54b0c687.js"></script>
    <style>
      .marketing {
  margin: 0px;
  margin-left: -10px;
  margin-bottom: 40px;
  padding: 0px 0px;
  font-size: 15px;
  font-style: normal;
  fond-variant: normal;
  fort-weight: normal;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 2px;
  border: 1px solid rgba(0, 0, 0, 0.2);
  color: rgba(0, 0, 0, 0.4);
  text-decoration: none;
  letter-spacing: -0.03em;
  line-height: 22.5px;
  }
  
  .marketing a {
  font-weight: 400;
  text-decoration: none;
  color: #cb3837;
  }
  
  .marketing h3 {
  display: block;
  margin: 0;
  padding: 20px 0 10px 0;
  font-size: 20px;
  font-style: normal;
  font-variant: normal;
  font-weight: 400;
  line-height: 22px;
  text-decoration: none;
  color: rgba(0, 0, 0, 0.8);
  }
  
  .marketing h3 a {
  color: rgba(0, 0, 0, 0.8);
  }
  
  .marketing h3 a:hover {
  color: #cb3837;
  }
  
  .marketing p {
  line-height: 22.5px;
  margin-left: 10px;
  margin-right: 10px;
  }
  
  .marketing p a {
  white-space: nowrap;
  }
  
  #marketing-texthed {
  margin-left: 10px;
  }
    </style>
  <link rel="apple-touch-icon" sizes="57x57" href="/static/images/touch-icons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/static/images/touch-icons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/static/images/touch-icons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/static/images/touch-icons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/static/images/touch-icons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/static/images/touch-icons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/static/images/touch-icons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/static/images/touch-icons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/images/touch-icons/apple-touch-icon-180x180.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/static/images/touch-icons/apple-touch-startup-image-1024x748.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/static/images/touch-icons/apple-touch-startup-image-1536x2008.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/static/images/touch-icons/apple-touch-startup-image-2048x1496.png">
  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/static/images/touch-icons/apple-touch-startup-image-320x460.png">
  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/static/images/touch-icons/apple-touch-startup-image-640x1096.png">
  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/static/images/touch-icons/apple-touch-startup-image-640x920.png">
  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/static/images/touch-icons/apple-touch-startup-image-768x1004.png">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-230x230.png" sizes="230x230">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/coast-228x228.png" sizes="228x228">
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/static/images/touch-icons/manifest.json">
  <link rel="shortcut icon" href="/static/images/touch-icons/favicon.ico">
  <link rel="yandex-tableau-widget" href="/static/images/touch-icons/yandex-browser-manifest.json">
  <meta property="og:image" content="https://www.npmjs.com/static/images/touch-icons/open-graph.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="msapplication-TileColor" content="#cb3837">
  <meta name="msapplication-TileImage" content="/static/images/touch-icons/mstile-144x144.png">
  <meta name="msapplication-config" content="/static/images/touch-icons/browserconfig.xml">
  <meta name="theme-color" content="#cb3837">

</head>

<body itemscope itemtype="http://schema.org/WebSite" data-crumb="WObOVO2GGVaGa-BHXvXDF1iOgIQVsYIK_wp_Ghvz8CX">
  <meta itemprop="url" content="https://www.npmjs.com/">


  <header class="logged-in ">
    <!-- logo -->
    <div class="header-item brand-container">
      <div class="logo-container" id='npm-logo'>
        <a href="/"><img src="/static/images/npm-logo.svg" alt="npm logo" /></a>
      </div>
    </div>
    <!-- /logo -->
  
  
    <!-- search -->
    <div class="header-item header-search-container">
      <form class="site-search" id="npm-search" action="/search" method="get" itemprop="potentialAction" itemscope itemtype="http://schema.org/SearchAction">
        <meta itemprop="target" content="https://www.npmjs.com/search?q={q}">
        <div id="site-search-container">
            <input name="q" value="" type="search" id="site-search" placeholder="find packages" tabindex="1" autocorrect="off" autocapitalize="off" itemprop="query-input" />
        </div>
        <input type="submit"/>
      </form>
    </div>
  
    <!-- menu 1 -->
    <div class="header-item user-info-container">
      <div class="user-info">
          <div class="drop-down-menu-container" role="navigation">
  
            <a id="user-info-drop-down-menu-toggle" class="drop-down-menu-toggle" href="#user-info-menu" role="button" aria-haspopup="true" aria-owns="user-info-menu"><span class="a11y-only">Toggle User Menu</span>
              <span class="user-info-salutation" data-user-name="deprecated" data-is-paid="">Greetings, <span id="salutation-username">deprecated</span></span>
              <img alt="" src="https://s.gravatar.com/avatar/0b22453288cedbe28d53e89e0e0b793d?size&#x3D;50&amp;default&#x3D;retro" />
            </a>
  
            <div role="menu" id="user-info-menu" class="drop-down-menu" aria-labelledby="user-info-drop-down-menu-toggle">
              <div class="drop-down-menu-section">
                <ul>
                  <li><a href="/~deprecated">profile</a></li>
                  <li><a href="/profile-edit">personal info</a></li>
                  <li><a href="/settings/billing">billing</a></li>
                  <li><a href="/settings/tokens">tokens</a></li>
                  <li><form method="POST" action="/logout">  <input type="hidden" name="crumb" value="WObOVO2GGVaGa-BHXvXDF1iOgIQVsYIK_wp_Ghvz8CX"/>
  <button type="submit" class="btn-link">logout</button></form></li>
                </ul>
              </div> <!-- .drop-down-menu-section -->
            </div> <!-- .drop-down-menu -->
          </div> <!-- .drop-down-menu-container -->
      </div> <!-- .user-info -->
    </div>
    <!-- /menu 1 -->
  
    <!-- menu 2 -->
    <div class="header-item header-nav-menu-container">
      <a href="#" id="npm-expansions" class="npm-expansions" data-event-trigger="click" data-event-name="npm-expansions">node package manager</a>
  
      <div class="nav-menu-container" role="navigation">
        <a class="nav-toggle drop-down-menu-toggle" href="#product-navigation"><span class="a11y-only">Toggle Navigation</span>
          <img alt="mobile navigation menu" src="/static/images/mobile-menu.png" />
        </a>
  
  
        <div class="drop-down-menu-container" role="menu">
          <nav id="product-navigation" class="product-navigation drop-down-menu">
            <ul class="drop-down-menu-section products-list">
              <li><a href="/npm/on-site">npm On-Site</a></li>
              <li><a href="/npm/private-packages" data-event-trigger="click" data-event-name="private-modules-nav-link">npm Private Packages</a></li>
              <li><a href="/npm/open-source">npm Open Source</a></li>
              <li><a href="https://docs.npmjs.com">documentation</a></li>
              <li><a href="/support">support</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <!-- /menu 2 -->
  
  
  
  </header>


    <div class="container content">
      
<div class="content-column">

  <h1 class="package-name">
    <a href="/package/mississippi">mississippi</a>
      <i class="icon-public"></i>
  </h1>
  <p class="package-description">a collection of useful streams</p>

  <form class="star">
    <input type="hidden" name="name" value="mississippi">
    <input id="star-input" type="checkbox" name="isStarred" value="true" >
    <label for="star-input" class="icon-star"></label>
      <input type="hidden" name="crumb" value="WObOVO2GGVaGa-BHXvXDF1iOgIQVsYIK_wp_Ghvz8CX"/>
  </form>

  <div id="readme" class="markdown">
      <h1 id="user-content-mississippi" class="deep-link package-name-redundant"><a href="#mississippi">mississippi</a></h1>
<p>a collection of useful stream utility modules. learn how the modules work using this and then pick the ones you want and use them individually</p>
<p>the goal of the modules included in mississippi is to make working with streams easy without sacrificing speed, error handling or composability.</p>
<h2 id="user-content-usage" class="deep-link"><a href="#usage">usage</a></h2>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;miss&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>mississippi</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h2 id="user-content-methods" class="deep-link"><a href="#methods">methods</a></h2>
<ul>
<li><a href="#pipe">pipe</a></li>
<li><a href="#each">each</a></li>
<li><a href="#pipeline">pipeline</a></li>
<li><a href="#duplex">duplex</a></li>
<li><a href="#through">through</a></li>
<li><a href="#from">from</a></li>
<li><a href="#to">to</a></li>
<li><a href="#concat">concat</a></li>
<li><a href="#finished">finished</a></li>
</ul>
<h3 id="user-content-pipe" class="deep-link"><a href="#pipe">pipe</a></h3>
<h5 id="user-content-misspipestream1-stream2-stream3--cb" class="deep-link"><a href="#misspipestream1-stream2-stream3--cb"><code>miss.pipe(stream1, stream2, stream3, ..., cb)</code></a></h5>
<p>Pipes streams together and destroys all of them if one of them closes. Calls <code>cb</code> with <code>(error)</code> if there was an error in any of the streams.</p>
<p>When using standard <code>source.pipe(destination)</code> the source will <em>not</em> be destroyed if the destination emits close or error. You are also not able to provide a callback to tell when then pipe has finished.</p>
<p><code>miss.pipe</code> does these two things for you, ensuring you handle stream errors 100% of the time (unhandled errors are probably the most common bug in most node streams code)</p>
<h4 id="user-content-original-module" class="deep-link"><a href="#original-module">original module</a></h4>
<p><code>miss.pipe</code> is provided by <a href="https://npmjs.org/pump"><code>require(&apos;pump&apos;)</code></a></p>
<h4 id="user-content-example" class="deep-link"><a href="#example">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;lets&#xA0;do&#xA0;a&#xA0;simple&#xA0;file&#xA0;copy</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>fs</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;read&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./original.zip</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;write&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createWriteStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./copy.zip</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;use&#xA0;miss.pipe&#xA0;instead&#xA0;of&#xA0;read.pipe(write)</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>miss</span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span>read</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;write</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.error</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Copy&#xA0;error!</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;err</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Copied&#xA0;successfully</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h3 id="user-content-each" class="deep-link"><a href="#each">each</a></h3>
<h5 id="user-content-misseachstream-each-done" class="deep-link"><a href="#misseachstream-each-done"><code>miss.each(stream, each, [done])</code></a></h5>
<p>Iterate the data in <code>stream</code> one chunk at a time. Your <code>each</code> function will be called with with <code>(data, next)</code> where data is a data chunk and next is a callback. Call <code>next</code> when you are ready to consume the next chunk.</p>
<p>Optionally you can call <code>next</code> with an error to destroy the stream. You can also pass the optional third argument, <code>done</code>, which is a function that will be called with <code>(err)</code> when the stream ends. The <code>err</code> argument will be populated with an error if the stream emitted an error.</p>
<h4 id="user-content-original-module-1" class="deep-link"><a href="#original-module-1">original module</a></h4>
<p><code>miss.each</code> is provided by <a href="https://npmjs.org/stream-each"><code>require(&apos;stream-each&apos;)</code></a></p>
<h4 id="user-content-example-1" class="deep-link"><a href="#example-1">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>fs</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;split&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>split2</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;newLineSeparatedNumbers&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>numbers.txt</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;pipeline&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>pipeline</span><span class="meta brace round js"><span>(</span></span><span>newLineSeparatedNumbers</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="support function js"><span>split</span></span><span class="meta brace round js"><span>(</span><span>)</span><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;each&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>each</span><span class="meta brace round js"><span>(</span></span><span>pipeline</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;eachLine</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;done</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;sum&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="constant numeric js"><span>0</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>eachLine</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>line</span></span><span>,&#xA0;</span><span class="variable function js"><span>next</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;sum&#xA0;</span><span class="keyword operator js"><span>+</span><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>parseInt</span></span><span class="meta brace round js"><span>(</span></span><span>line</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>toString</span></span><span class="meta brace round js"><span>(</span><span>)</span><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;next</span><span class="meta brace round js"><span>(</span><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>done</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>throw</span></span><span>&#xA0;err</span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>sum&#xA0;is</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;sum</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div></pre></code></pre>
<h3 id="user-content-pipeline" class="deep-link"><a href="#pipeline">pipeline</a></h3>
<h5 id="user-content-var-pipeline--misspipelinestream1-stream2-stream3-" class="deep-link"><a href="#var-pipeline--misspipelinestream1-stream2-stream3-"><code>var pipeline = miss.pipeline(stream1, stream2, stream3, ...)</code></a></h5>
<p>Builds a pipeline from all the transform streams passed in as arguments by piping them together and returning a single stream object that lets you write to the first stream and read from the last stream.</p>
<p>If any of the streams in the pipeline emits an error or gets destroyed, or you destroy the stream it returns, all of the streams will be destroyed and cleaned up for you.</p>
<h4 id="user-content-original-module-2" class="deep-link"><a href="#original-module-2">original module</a></h4>
<p><code>miss.pipeline</code> is provided by <a href="https://npmjs.org/pumpify"><code>require(&apos;pumpify&apos;)</code></a></p>
<h4 id="user-content-example-2" class="deep-link"><a href="#example-2">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;first&#xA0;create&#xA0;some&#xA0;transform&#xA0;streams&#xA0;(note:&#xA0;these&#xA0;two&#xA0;modules&#xA0;are&#xA0;fictional)</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;imageResize&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>image-resizer-stream</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span><span>(</span></span><span class="meta brace curly js"><span>{</span></span><span>width</span><span class="keyword operator js"><span>:</span></span><span>&#xA0;</span><span class="constant numeric js"><span>400</span></span><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;pngOptimizer&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>png-optimizer-stream</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span><span>(</span></span><span class="meta brace curly js"><span>{</span></span><span>quality</span><span class="keyword operator js"><span>:</span></span><span>&#xA0;</span><span class="constant numeric js"><span>60</span></span><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;instead&#xA0;of&#xA0;doing&#xA0;a.pipe(b),&#xA0;use&#xA0;pipelin</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;resizeAndOptimize&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>pipeline</span><span class="meta brace round js"><span>(</span></span><span>imageResize</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;pngOptimizer</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;`resizeAndOptimize`&#xA0;is&#xA0;a&#xA0;transform&#xA0;stream.&#xA0;when&#xA0;you&#xA0;write&#xA0;to&#xA0;it,&#xA0;it&#xA0;writes</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;to&#xA0;`imageResize`.&#xA0;when&#xA0;you&#xA0;read&#xA0;from&#xA0;it,&#xA0;it&#xA0;reads&#xA0;from&#xA0;`pngOptimizer`.</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;it&#xA0;handles&#xA0;piping&#xA0;all&#xA0;the&#xA0;streams&#xA0;together&#xA0;for&#xA0;you</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;use&#xA0;it&#xA0;like&#xA0;any&#xA0;other&#xA0;transform&#xA0;stream</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>fs</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;read&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./image.png</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;write&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createWriteStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./resized-and-optimized.png</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>miss</span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span>read</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;resizeAndOptimize</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;write</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.error</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Image&#xA0;processing&#xA0;error!</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;err</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Image&#xA0;processed&#xA0;successfully</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h3 id="user-content-duplex" class="deep-link"><a href="#duplex">duplex</a></h3>
<h5 id="user-content-var-duplex--missduplexwritable-readable-opts" class="deep-link"><a href="#var-duplex--missduplexwritable-readable-opts"><code>var duplex = miss.duplex([writable, readable, opts])</code></a></h5>
<p>Take two separate streams, a writable and a readable, and turn them into a single <a href="https://nodejs.org/api/stream.html#stream_class_stream_duplex">duplex (readable and writable) stream</a>.</p>
<p>The returned stream will emit data from the readable. When you write to it it writes to the writable.</p>
<p>You can either choose to supply the writable and the readable at the time you create the stream, or you can do it later using the <code>.setWritable</code> and <code>.setReadable</code> methods and data written to the stream in the meantime will be buffered for you.</p>
<h4 id="user-content-original-module-3" class="deep-link"><a href="#original-module-3">original module</a></h4>
<p><code>miss.duplex</code> is provided by <a href="https://npmjs.org/duplexify"><code>require(&apos;duplexify&apos;)</code></a></p>
<h4 id="user-content-example-3" class="deep-link"><a href="#example-3">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;lets&#xA0;spawn&#xA0;a&#xA0;process&#xA0;and&#xA0;take&#xA0;its&#xA0;stdout&#xA0;and&#xA0;stdin&#xA0;and&#xA0;combine&#xA0;them&#xA0;into&#xA0;1&#xA0;stream</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;child&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>child_process</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;@-&#xA0;tells&#xA0;it&#xA0;to&#xA0;read&#xA0;from&#xA0;stdin,&#xA0;--data-binary&#xA0;sets&#xA0;&apos;raw&apos;&#xA0;binary&#xA0;mode</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;curl&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;child</span><span class="meta delimiter method period js"><span>.</span></span><span>spawn</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>curl&#xA0;-X&#xA0;POST&#xA0;--data-binary&#xA0;@-&#xA0;</span><span class="markup underline link hyperlink"><span>http://foo.com</span></span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;duplexCurl&#xA0;will&#xA0;write&#xA0;to&#xA0;stdin&#xA0;and&#xA0;read&#xA0;from&#xA0;stdout</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;duplexCurl&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>duplex</span><span class="meta brace round js"><span>(</span></span><span>curl</span><span class="meta delimiter method period js"><span>.</span></span><span>stdin</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;curl</span><span class="meta delimiter method period js"><span>.</span></span><span>stdout</span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h3 id="user-content-through" class="deep-link"><a href="#through">through</a></h3>
<h5 id="user-content-var-transformer--missthroughoptions-transformfunction-flushfunction" class="deep-link"><a href="#var-transformer--missthroughoptions-transformfunction-flushfunction"><code>var transformer = miss.through([options, transformFunction, flushFunction])</code></a></h5>
<p>Make a custom <a href="https://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">transform stream</a>.</p>
<p>The <code>options</code> object is passed to the internal transform stream and can be used to create an <code>objectMode</code> stream (or use the shortcut <code>miss.through.obj([...])</code>)</p>
<p>The <code>transformFunction</code> is called when data is available for the writable side and has the signature <code>(chunk, encoding, cb)</code>. Within the function, add data to the readable side any number of times with <code>this.push(data)</code>. Call <code>cb()</code> to indicate processing of the <code>chunk</code> is complete. Or to easily emit a single error or chunk, call <code>cb(err, chunk)</code></p>
<p>The <code>flushFunction</code>, with signature <code>(cb)</code>, is called just before the stream is complete and should be used to wrap up stream processing.</p>
<h4 id="user-content-original-module-4" class="deep-link"><a href="#original-module-4">original module</a></h4>
<p><code>miss.through</code> is provided by <a href="https://npmjs.org/through2"><code>require(&apos;through2&apos;)</code></a></p>
<h4 id="user-content-example-4" class="deep-link"><a href="#example-4">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>fs</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;read&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./boring_lowercase.txt</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;write&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createWriteStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./AWESOMECASE.TXT</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;Leaving&#xA0;out&#xA0;the&#xA0;options&#xA0;object</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;uppercaser&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>through</span><span class="meta brace round js"><span>(</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>chunk</span></span><span>,&#xA0;</span><span class="variable function js"><span>enc</span></span><span>,&#xA0;</span><span class="variable function js"><span>cb</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;cb</span><span class="meta brace round js"><span>(</span></span><span>chunk</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>toString</span></span><span class="meta brace round js"><span>(</span><span>)</span></span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>toUpperCase</span></span><span class="meta brace round js"><span>(</span><span>)</span><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="meta brace curly js"><span>}</span></span><span class="meta delimiter object comma js"><span>,</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>cb</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;cb</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>ONE&#xA0;LAST&#xA0;BIT&#xA0;OF&#xA0;UPPERCASE</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="meta brace curly js"><span>}</span></span></span></div><div class="line"><span class="source js"><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>miss</span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span>read</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;uppercaser</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;write</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.error</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Trouble&#xA0;uppercasing!</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>Splendid&#xA0;uppercasing!</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h3 id="user-content-from" class="deep-link"><a href="#from">from</a></h3>
<h5 id="user-content-missfromopts-read" class="deep-link"><a href="#missfromopts-read"><code>miss.from([opts], read)</code></a></h5>
<p>Make a custom <a href="https://nodejs.org/docs/latest/api/stream.html#stream_class_stream_readable">readable stream</a>.</p>
<p><code>opts</code> contains the options to pass on to the ReadableStream constructor e.g. for creating a readable object stream (or use the shortcut <code>miss.from.obj([...])</code>).</p>
<p>Returns a readable stream that calls <code>read(size, next)</code> when data is requested from the stream.</p>
<ul>
<li><code>size</code> is the recommended amount of data (in bytes) to retrieve.</li>
<li><code>next(err, chunk)</code> should be called when you&apos;re ready to emit more data.</li>
</ul>
<h4 id="user-content-original-module-5" class="deep-link"><a href="#original-module-5">original module</a></h4>
<p><code>miss.from</code> is provided by <a href="https://npmjs.org/from2"><code>require(&apos;from2&apos;)</code></a></p>
<h4 id="user-content-example-5" class="deep-link"><a href="#example-5">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>fromString</span></span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>string</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>from</span><span class="meta brace round js"><span>(</span></span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>size</span></span><span>,&#xA0;</span><span class="variable function js"><span>next</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;if&#xA0;there&apos;s&#xA0;no&#xA0;more&#xA0;content</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;left&#xA0;in&#xA0;the&#xA0;string,&#xA0;close&#xA0;the&#xA0;stream.</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>string</span><span class="meta delimiter method period js"><span>.</span></span><span class="support constant js"><span>length</span></span><span>&#xA0;</span><span class="keyword operator js"><span>&lt;=</span></span><span>&#xA0;</span><span class="constant numeric js"><span>0</span></span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;next</span><span class="meta brace round js"><span>(</span></span><span class="constant language null js"><span>null</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="constant language null js"><span>null</span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;Pull&#xA0;in&#xA0;a&#xA0;new&#xA0;chunk&#xA0;of&#xA0;text,</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;removing&#xA0;it&#xA0;from&#xA0;the&#xA0;string.</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class="storage modifier js"><span>var</span></span><span>&#xA0;chunk&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;string</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>slice</span></span><span class="meta brace round js"><span>(</span></span><span class="constant numeric js"><span>0</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;size</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;string&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;string</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>slice</span></span><span class="meta brace round js"><span>(</span></span><span>size</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;Emit&#xA0;&quot;chunk&quot;&#xA0;from&#xA0;the&#xA0;stream.</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;&#xA0;&#xA0;next</span><span class="meta brace round js"><span>(</span></span><span class="constant language null js"><span>null</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;chunk</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;pipe&#xA0;&quot;hello&#xA0;world&quot;&#xA0;out</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;to&#xA0;stdout.</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>fromString</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>hello&#xA0;world</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span class="support variable js"><span>process</span></span><span class="meta delimiter method period js"><span>.</span></span><span>stdout</span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>
<h3 id="user-content-to" class="deep-link"><a href="#to">to</a></h3>
<h5 id="user-content-misstooptions-write-flush" class="deep-link"><a href="#misstooptions-write-flush"><code>miss.to([options], write, [flush])</code></a></h5>
<p>Make a custom <a href="https://nodejs.org/docs/latest/api/stream.html#stream_class_stream_writable">writable stream</a>.</p>
<p><code>opts</code> contains the options to pass on to the WritableStream constructor e.g. for creating a readable object stream (or use the shortcut <code>miss.to.obj([...])</code>).</p>
<p>Returns a writable stream that calls <code>write(data, enc, cb)</code> when data is written to the stream.</p>
<ul>
<li><code>data</code> is the received data to write the destination.</li>
<li><code>enc</code> encoding of the piece of data received.</li>
<li><code>next(err, chunk)</code> should be called when you&apos;re ready to write more data, or encountered an error.</li>
</ul>
<p><code>flush(cb)</code> is called before <code>finish</code> is emitted and allows for cleanup steps to occur.</p>
<h4 id="user-content-original-module-6" class="deep-link"><a href="#original-module-6">original module</a></h4>
<p><code>miss.to</code> is provided by <a href="https://npmjs.org/flush-write-stream"><code>require(&apos;flush-write-stream&apos;)</code></a></p>
<h4 id="user-content-example-6" class="deep-link"><a href="#example-6">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;ws&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;miss</span><span class="meta delimiter method period js"><span>.</span></span><span>to</span><span class="meta brace round js"><span>(</span></span><span>write</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;flush</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>ws</span><span class="meta delimiter method period js"><span>.</span></span><span>on</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>finish</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>finished</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>ws</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function dom js"><span>write</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>hello</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>ws</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function dom js"><span>write</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>world</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>ws</span><span class="meta delimiter method period js"><span>.</span></span><span>end</span><span class="meta brace round js"><span>(</span><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>write</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>data</span></span><span>,&#xA0;</span><span class="variable function js"><span>enc</span></span><span>,&#xA0;</span><span class="variable function js"><span>cb</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;i&#xA0;am&#xA0;your&#xA0;normal&#xA0;._write&#xA0;method</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>writing</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;data</span><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>toString</span></span><span class="meta brace round js"><span>(</span><span>)</span><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;cb</span><span class="meta brace round js"><span>(</span><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>flush</span></span><span>&#xA0;</span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>cb</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;i&#xA0;am&#xA0;called&#xA0;before&#xA0;finish&#xA0;is&#xA0;emitted</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="support function js"><span>setTimeout</span></span><span class="meta brace round js"><span>(</span></span><span>cb</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="constant numeric js"><span>1000</span></span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;wait&#xA0;1&#xA0;sec</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div></pre></code></pre>
<p>If you run the above it will produce the following output</p>
<pre><code><pre class="editor editor-colors"><div class="line"><span class="text"><span>writing&#xA0;hello</span></span></div><div class="line"><span class="text"><span>writing&#xA0;world</span></span></div><div class="line"><span class="text"><span>(nothing&#xA0;happens&#xA0;for&#xA0;1&#xA0;sec)</span></span></div><div class="line"><span class="text"><span>finished</span></span></div></pre></code></pre>
<h3 id="user-content-concat" class="deep-link"><a href="#concat">concat</a></h3>
<h5 id="user-content-var-concat--missconcatcb" class="deep-link"><a href="#var-concat--missconcatcb"><code>var concat = miss.concat(cb)</code></a></h5>
<p>Returns a writable stream that concatenates all data written to the stream and calls a callback with the single result.</p>
<p>Calling <code>miss.concat(cb)</code> returns a writable stream. <code>cb</code> is called when the writable stream is finished, e.g. when all data is done being written to it. <code>cb</code> is called with a single argument, <code>(data)</code>, which will containe the result of concatenating all the data written to the stream.</p>
<p>Note that <code>miss.concat</code> will not handle stream errors for you. To handle errors, use <code>miss.pipe</code> or handle the <code>error</code> event manually.</p>
<h4 id="user-content-original-module-7" class="deep-link"><a href="#original-module-7">original module</a></h4>
<p><code>miss.concat</code> is provided by <a href="https://npmjs.org/concat-stream"><code>require(&apos;concat-stream&apos;)</code></a></p>
<h4 id="user-content-example-7" class="deep-link"><a href="#example-7">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>fs</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;concat&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>concat-stream</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;readStream&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>cat.png</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;concatStream&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>concat</span></span><span class="meta brace round js"><span>(</span></span><span>gotPicture</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>readStream</span><span class="meta delimiter method period js"><span>.</span></span><span>on</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>error</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;handleError</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>readStream</span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span>concatStream</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>gotPicture</span></span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>imageBuffer</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;imageBuffer&#xA0;is&#xA0;all&#xA0;of&#xA0;`cat.png`&#xA0;as&#xA0;a&#xA0;node.js&#xA0;Buffer</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&#xA0;</span><span class="entity name function js"><span>handleError</span></span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span class="punctuation comment js"><span>&#xA0;&#xA0;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;handle&#xA0;your&#xA0;error&#xA0;appropriately&#xA0;here,&#xA0;e.g.:</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.error</span></span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;print&#xA0;the&#xA0;error&#xA0;to&#xA0;STDERR</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="support variable js"><span>process</span></span><span class="meta delimiter method period js"><span>.</span></span><span>exit</span><span class="meta brace round js"><span>(</span></span><span class="constant numeric js"><span>1</span></span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&#xA0;exit&#xA0;program&#xA0;with&#xA0;non-zero&#xA0;exit&#xA0;code</span><span>&#xA0;</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span></span></div></pre></code></pre>
<h3 id="user-content-finished" class="deep-link"><a href="#finished">finished</a></h3>
<h5 id="user-content-missfinishedstream-cb" class="deep-link"><a href="#missfinishedstream-cb"><code>miss.finished(stream, cb)</code></a></h5>
<p>Waits for <code>stream</code> to finish or error and then calls <code>cb</code> with <code>(err)</code>. <code>cb</code> will only be called once. <code>err</code> will be null if the stream finished without error, or else it will be populated with the error from the streams <code>error</code> event.</p>
<p>This function is useful for simplifying stream handling code as it lets you handle success or error conditions in a single code path. It&apos;s used internally <code>miss.pipe</code>.</p>
<h4 id="user-content-original-module-8" class="deep-link"><a href="#original-module-8">original module</a></h4>
<p><code>miss.finished</code> is provided by <a href="https://npmjs.org/end-of-stream"><code>require(&apos;end-of-stream&apos;)</code></a></p>
<h4 id="user-content-example-8" class="deep-link"><a href="#example-8">example</a></h4>
<pre><code class="highlight js"><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;copySource&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createReadStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./movie.mp4</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>var</span></span><span>&#xA0;copyDest&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;fs</span><span class="meta delimiter method period js"><span>.</span></span><span>createWriteStream</span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>./movie-copy.mp4</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>copySource</span><span class="meta delimiter method period js"><span>.</span></span><span>pipe</span><span class="meta brace round js"><span>(</span></span><span>copyDest</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span>miss</span><span class="meta delimiter method period js"><span>.</span></span><span>finished</span><span class="meta brace round js"><span>(</span></span><span>copyDest</span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span class="punctuation definition begin js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="punctuation definition end js"><span>)</span></span></span><span>&#xA0;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="keyword control js"><span>if</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword control js"><span>return</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>write&#xA0;failed</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&#xA0;err</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>write&#xA0;success</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div></pre></code></pre>

  </div>

</div>

<div class="sidebar">

    <div class="promotion" data-promotion-id="531" data-promotion-spot="packagePage"><div class="marketing">
<h3 id="marketing-texthed"><a href="http://npm.me/g4" title="Working with private modules">Working with private modules</a></h3>

<p>With npm private modules, you can use the npm registry to host your own private code and the npm command line to manage it.  <a href="http://npm.me/g4" title="Working with private modules">Learn more&hellip;</a></p></div></div>

    <div class="autoselect-wrapper npm-install icon-download">
      <input type="text" value="npm install mississippi" readonly>
      <p><a href="/package/mississippi/tutorial">how? learn more</a></p>
    </div>

  <ul class="box">

      <li class="last-publisher">
          <a href="/~maxogden">
            <img src="https://s.gravatar.com/avatar/fcc9bbfe2a31c5a6225cc287ed7ae2a6?size&#x3D;100&amp;default&#x3D;retro" alt="maxogden" />
            <span>maxogden</span>
          </a>
          published
          <span data-date="2016-01-11T01:23:20.896Z" data-date-format="relative">
            2016-01-11T01:23:20.896Z
          </span>
      </li>

    <li>
      <strong>1.2.0</strong>
      is the latest
        of 5 releases
    </li>

      <li>
        <a href="https://github.com/maxogden/mississippi">github.com/maxogden/mississippi</a>
      </li>


      <li>
          <a href="http://spdx.org/licenses/BSD-2-Clause">BSD-2-Clause</a>
          <img class="osi" alt="Licensed on OSI-approved terms" src="/static/images/osi.svg">®
      </li>

  </ul>

    <h3 title="collaborators">
      <a href="/package/mississippi/access">Collaborators</a>
    </h3>

    <ul class="humans collaborators">
        <li>
            <a href="/~maxogden" rel="tipsy" title="maxogden">
                <img src="https://s.gravatar.com/avatar/fcc9bbfe2a31c5a6225cc287ed7ae2a6?size&#x3D;100&amp;default&#x3D;retro" alt="maxogden">
            </a>
        </li>


    </ul>

    <h3>Stats</h3>
    <ul class="box">

        <li>
          <strong class="pretty-number daily-downloads">91</strong>
          downloads in the last day
        </li>
        <li>
          <strong class="pretty-number weekly-downloads">578</strong>
          downloads in the last week
        </li>
        <li>
          <strong class="pretty-number monthly-downloads">1473</strong>
          downloads in the last month
        </li>

        <li id="issues" data-ghapi="https://api.github.com/repos/maxogden/mississippi">
          <span class="original">Have an issue? <a href="https://github.com/maxogden/mississippi/issues">File it.</a></span>
            <span class="enhanced" style="display:none">
              <a href="https://github.com/maxogden/mississippi/issues"></a> on GitHub
            </span>
        </li>

        <li id="pull_requests" style="display:none">
          <a href="https://github.com/maxogden/mississippi/pulls"></a> on GitHub
        </li>

    </ul>

      <h3>Try it out</h3>
      <ul class="box">
        <li class="tonicdev"><a href="https://tonicdev.com/npm/mississippi" target="_blank">Test mississippi in your browser.</a></li>
      </ul>

  <h3>Keywords</h3>
  <p class="list-of-links">
      None
  </p>

  <h3>Dependencies (9)</h3>
  <p class="list-of-links">
          <a href="/package/through2">through2</a>,
          <a href="/package/stream-each">stream-each</a>,
          <a href="/package/pumpify">pumpify</a>,
          <a href="/package/pump">pump</a>,
          <a href="/package/from2">from2</a>,
          <a href="/package/flush-write-stream">flush-write-stream</a>,
          <a href="/package/end-of-stream">end-of-stream</a>,
          <a href="/package/duplexify">duplexify</a>,
                <a href="/package/concat-stream">concat-stream</a>
  </p>

    <h3><a href="/browse/depended/mississippi">Dependents</a></h3>
    <p class="list-of-links dependents">

          <a href="/package/mailmerge">mailmerge</a>,
        
          <a href="/package/registry-static">registry-static</a>,
        
          <a href="/package/gulp-inheritance">gulp-inheritance</a>,
        
          <a href="/package/tfk-saksbehandling-elev-varsel">tfk-saksbehandling-elev-varsel</a>,
        
          <a href="/package/tfk-roy">tfk-roy</a>,
        
          <a href="/package/mongodb-scope-client">mongodb-scope-client</a>,
        
          <a href="/package/mongodb-scope-server">mongodb-scope-server</a>,
        
          <a href="/package/postabular">postabular</a>,
                  <a href="/package/tfk-laurentius">tfk-laurentius</a>    </p>

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "SoftwareApplication",
      "name": "mississippi",
      "description": "a collection of useful streams",
      "url": "https://www.npmjs.com/package/mississippi",
      "keywords": "",
      "applicationCategory": "DeveloperApplication",
      "offers": {
         "@type": "Offer",
         "price": "0.00"
      }
    }
  </script>

    <div class="hiring-container" data-template="sidebar"></div>

</div>


    </div>

  <footer class="pane bg-npm-navy-1">
  
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-md-offset-3">
          <h3 class="h4 type-npm-pastel-3">You Need Help</h3>
          <hr class="divider-1">
          <ul class="list-unstyled h6 em-default">
            <li class="pbl"><a class="type-neutral-11" href="https://docs.npmjs.com">Documentation</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/support">Support / Contact Us</a></li>
            <li class="pbl"><a class="type-neutral-11" href="http://status.npmjs.org/">Registry Status</a></li>
            <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm/newww/issues">Website Issues</a></li>
            <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm/npm/issues">CLI Issues</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/security">Security</a></li>
          </ul>
        </div>
  
        <div class="col-md-6 col-md-offset-1">
          <h3 class="h4 type-npm-pastel-3">About npm</h3>
          <hr class="divider-1">
          <ul class="list-unstyled h6 em-default">
            <li class="pbl"><a class="type-neutral-11" href="/about">About npm, Inc</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/jobs">Jobs</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/npm-weekly">npm Weekly</a></li>
            <li class="pbl"><a class="type-neutral-11" href="http://blog.npmjs.org">Blog</a></li>
            <li class="pbl"><a class="type-neutral-11" href="https://twitter.com/npmjs">Twitter</a></li>
            <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm">GitHub</a></li>
          </ul>
        </div>
  
        <div class="col-md-6 col-md-offset-1">
          <h3 class="h4 type-npm-pastel-3">Legal Stuff</h3>
          <hr class="divider-1">
          <ul class="list-unstyled h6 em-default">
            <li class="pbl"><a class="type-neutral-11" href="/policies/terms">Terms of Use</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/conduct">Code of Conduct</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/disputes">Package Name Disputes</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/privacy">Privacy Policy</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/receiving-reports">Reporting Abuse</a></li>
            <li class="pbl"><a class="type-neutral-11" href="/policies/">Other policies</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="txt-c container">
      <a class="npm-loves-you type-neutral-11" href="/">
        npm loves you
      </a>
    </div>
  </footer>

  
  <script defer src="/static/js/vendor.min.a3c53b90.js"></script>
  <script defer async src="https://cdn.optimizely.com/js/3318080746.js"></script>
  <script defer async src='//img.en25.com/i/elqCfg.min.js'></script><!-- Eloqua -->
</body>
</html>

<!-- pid&#x3D;26935 53bc7484adc067c746ff36ba31bad51538c5d217 https://www.npmjs.com www-13-west.internal.npmjs.com  -->
